const e={apiKey:"AIzaSyCYh5eAY97Umv7z1SsqOaD4Kax8JVkHz9c",authDomain:"poller-3def1.firebaseapp.com",databaseURL:"https://poller-3def1-default-rtdb.europe-west1.firebasedatabase.app",projectId:"poller-3def1",storageBucket:"poller-3def1.appspot.com",messagingSenderId:"361512679720",appId:"1:361512679720:web:0cab0e67a7454442d6f81d",measurementId:"G-7NHRRMFQS1"};firebase.initializeApp(e);const t=document.getElementById("answer"),i=document.querySelector(".add-answer"),n=document.querySelector(".multiple");let o=0;t&&t.addEventListener("change",()=>{const e=t.value;n.style.display="multiple"===e?"flex":"none"}),i&&i.addEventListener("click",e=>{let t;if(e.preventDefault(),o++,!(o<4))return;if(1===o)t="C";else if(2===o)t="D";else{if(3!==o)return void(i.disabled=!0);t="E"}const n=document.createElement("Label");n.setAttribute("for","answer"+t),n.innerHTML=t;const a=document.createElement("Input");a.setAttribute("type","text"),a.setAttribute("name","answer"+t),n.appendChild(a),i.parentNode.insertBefore(n,i)});const a=firebase.messaging(),s=document.querySelector(".notisElem");if("Notification"in window)if("granted"===Notification.permission){console.log("Permission granted");var r=new Notification("Hi there!")}else"denied"!==Notification.permission&&Notification.requestPermission().then(e=>{if("granted"===e)new Notification("Hi there!")});else alert("This browser does not support desktop notification");a.getToken({vapidKey:"BGBWBKYjaQdJic_twf3FnVUh9UBOKe8QnaIRgij2OM74CCt9fyFm_Psi9IikIn-ELjN4svtWwQCGsph93fq2cZc"}).then(e=>{e?console.log(e):console.log("No registration token available. Request permission to generate one.")}).catch(e=>{console.log("An error occurred while retrieving token. ",e)});let l=!0;a.onMessage(e=>{if(console.log("Message received. ",e),s.innerHTML=e.notification.body,l){const{title:t,...i}=JSON.parse(e.data.notification);navigator.serviceWorker.getRegistrations().then(e=>{e[0].showNotification(t,i)})}});