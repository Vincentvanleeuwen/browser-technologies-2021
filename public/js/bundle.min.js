const e={apiKey:"AIzaSyCYh5eAY97Umv7z1SsqOaD4Kax8JVkHz9c",authDomain:"poller-3def1.firebaseapp.com",databaseURL:"https://poller-3def1-default-rtdb.europe-west1.firebasedatabase.app",projectId:"poller-3def1",storageBucket:"poller-3def1.appspot.com",messagingSenderId:"361512679720",appId:"1:361512679720:web:0cab0e67a7454442d6f81d",measurementId:"G-7NHRRMFQS1"};firebase.initializeApp(e);const t=document.getElementById("answer"),o=document.querySelector(".add-answer"),i=document.querySelector(".multiple");let n=0;t&&t.addEventListener("change",()=>{const e=t.value;i.style.display="multiple"===e?"flex":"none"}),o&&o.addEventListener("click",e=>{let t;if(e.preventDefault(),n++,!(n<4))return;if(1===n)t="C";else if(2===n)t="D";else{if(3!==n)return void(o.disabled=!0);t="E"}const i=document.createElement("Label");i.setAttribute("for","answer"+t),i.innerHTML=t;const s=document.createElement("Input");s.setAttribute("type","text"),s.setAttribute("name","answer"+t),i.appendChild(s),o.parentNode.insertBefore(i,o)});const s=firebase.messaging(),a=document.querySelector(".notisElem");if("Notification"in window)if("granted"===Notification.permission){console.log("Permission granted");new Notification("Hi there! You will be kept up to date with the most recent polls.")}else"denied"!==Notification.permission&&Notification.requestPermission().then(e=>{if("granted"===e){new Notification("Hi there! You will be kept up to date with the most recent polls.")}});else alert("This browser does not support desktop notification");s.getToken({vapidKey:"BGBWBKYjaQdJic_twf3FnVUh9UBOKe8QnaIRgij2OM74CCt9fyFm_Psi9IikIn-ELjN4svtWwQCGsph93fq2cZc"}).then(e=>{e?console.log(e):console.log("No registration token available. Request permission to generate one.")}).catch(e=>{console.log("An error occurred while retrieving token. ",e)});let r=!0;s.onMessage(e=>{if(console.log("Message received. ",e),a.innerHTML=e.notification.body,r){const{title:t,...o}=JSON.parse(e.data.notification);navigator.serviceWorker.getRegistrations().then(e=>{e[0].showNotification(t,o).then(e=>console.log("notifcationShow",e)).catch(e=>console.log(e))})}});