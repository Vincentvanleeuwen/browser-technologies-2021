const firebaseConfig={apiKey:"AIzaSyCYh5eAY97Umv7z1SsqOaD4Kax8JVkHz9c",authDomain:"poller-3def1.firebaseapp.com",databaseURL:"https://poller-3def1-default-rtdb.europe-west1.firebasedatabase.app",projectId:"poller-3def1",storageBucket:"poller-3def1.appspot.com",messagingSenderId:"361512679720",appId:"1:361512679720:web:0cab0e67a7454442d6f81d",measurementId:"G-7NHRRMFQS1"};firebase.initializeApp(firebaseConfig);const a=document.getElementById("answer"),addAnswerEl=document.querySelector(".add-answer"),multipleAnswersEl=document.querySelector(".multiple");let countClicks=0;a&&a.addEventListener("change",()=>{const answer=a.value;multipleAnswersEl.style.display="multiple"===answer?"flex":"none"}),addAnswerEl&&addAnswerEl.addEventListener("click",e=>{let newAnswer;if(e.preventDefault(),countClicks++,!(countClicks<4))return;if(1===countClicks)newAnswer="C";else if(2===countClicks)newAnswer="D";else{if(3!==countClicks)return void(addAnswerEl.disabled=!0);newAnswer="E"}const newAnswerLabel=document.createElement("Label");newAnswerLabel.setAttribute("for","answer"+newAnswer),newAnswerLabel.innerHTML=newAnswer;const newAnswerInput=document.createElement("Input");newAnswerInput.setAttribute("type","text"),newAnswerInput.setAttribute("name","answer"+newAnswer),newAnswerLabel.appendChild(newAnswerInput),addAnswerEl.parentNode.insertBefore(newAnswerLabel,addAnswerEl)});const messaging=firebase.messaging(),notisElem=document.querySelector(".notisElem");if("Notification"in window)if("granted"===Notification.permission){console.log("Permission granted");var notification=new Notification("Hi there!")}else"denied"!==Notification.permission&&Notification.requestPermission().then(permission=>{if("granted"===permission)new Notification("Hi there!")});else alert("This browser does not support desktop notification");messaging.getToken({vapidKey:"BGBWBKYjaQdJic_twf3FnVUh9UBOKe8QnaIRgij2OM74CCt9fyFm_Psi9IikIn-ELjN4svtWwQCGsph93fq2cZc"}).then(currentToken=>{currentToken?console.log(currentToken):console.log("No registration token available. Request permission to generate one.")}).catch(err=>{console.log("An error occurred while retrieving token. ",err)});let enableForegroundNotification=!0;messaging.onMessage(payload=>{if(console.log("Message received. ",payload),notisElem.innerHTML=payload.notification.body,enableForegroundNotification){const{title:title,...options}=JSON.parse(payload.data.notification);navigator.serviceWorker.getRegistrations().then(registration=>{registration[0].showNotification(title,options)})}});